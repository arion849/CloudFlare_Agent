name = "cloudflare-ai-chat"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Durable Object
[[durable_objects.bindings]]
name = "CHAT_SESSION"
class_name = "ChatSessionDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ChatSessionDO"]

# Workers AI
[ai]
binding = "AI"

# Vars (non-secret)
[vars]
MESSAGE_MAX_LENGTH = "2000"
MESSAGE_HISTORY_LIMIT = "10"
SUMMARIZE_MESSAGE_LIMIT = "50"
RATE_LIMIT_REQUESTS = "10"
RATE_LIMIT_WINDOW_MS = "60000"
